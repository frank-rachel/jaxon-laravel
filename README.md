Xajax Library for Laravel
=========================

This package integrates the Xajax library into the Laravel 5 framework.

Features
--------

- Read Xajax options from a file in Laravel config format.
- Automatically register Xajax classes from a preset directory.

Installation
------------

Add the following line in the `composer.json` file.
```json
"require": {
    "lagdo/xajax-laravel": "dev-master"
}
```

Or run the command
```bash
composer require lagdo/xajax-laravel
```

Add the following line to the `providers` entry in the `app.php` config file.
```php
Xajax\Laravel\XajaxServiceProvider::class
```

Add the following line to the `aliases` entry in the `app.php` config file.
```php
'LaravelXajax' => Xajax\Laravel\Facades\Xajax::class
```

Copy the `app/Http/Controllers/XajaxController.php` file of this repo to the `app/Http/Controllers` dir of the Laravel application.

Add the content of the `app/Http/routes.php` file of this repo to the `routes.php` file of the Laravel application.

Configuration
------------

The settings in the xajax.php config file are separated into two sections.
The options in the `lib` section are those of the Xajax core library, while the options in the `app` sections are those of the Laravel application.

The following options can be defined in the `app` section of the config file.

| Name | Default value | Description |
|------|---------------|-------------|
| route | xajax | The route to the Xajax Controller, as defined in the routes.php file |
| dir | app_path('/Xajax/Controllers') | The directory of the Xajax classes |
| namespace | \Xajax\App | The namespace of the Xajax classes |
| excluded | empty array | Prevent Xajax from exporting some methods |
| | | |

The `route` option is overriden by the `core.request.uri` option of the Xajax library.

Usage
-----

This is an example of a Laravel controller using the Xajax library.
```php
use LaravelXajax;

class DemoController extends Controller
{
    public function __construct()
    {
        // parent::__construct();
    }

    public function index()
    {
        // Register the Xajax classes
        LaravelXajax::register();

        // Print the page
        return view('index', array(
            'XajaxCss' => LaravelXajax::css(),
            'XajaxJs' => LaravelXajax::js(),
            'XajaxScript' => LaravelXajax::script()
        ));
    }
}
```

Before it prints the page, the controller makes a call to `LaravelXajax::register()` to export the Xajax classes.
Then it calls the `LaravelXajax::css()`, `LaravelXajax::js()` and `LaravelXajax::script()` functions to get the CSS and javascript codes generated by Xajax, which it inserts in the page.

### The Xajax classes

The Xajax classes of the application must all be located in the directory indicated by the `app.dir` option in the `xajax.php` config file.
If there is a namespace associated, the `app.namespace` option should be set accordingly.
The `app.namespace` option must be explicitely set to `null`, `false` or an empty string if there is no namespace.

Contribute
----------

- Issue Tracker: github.com/lagdo/xajax-laravel/issues
- Source Code: github.com/lagdo/xajax-laravel

License
-------

The project is licensed under the BSD license.
